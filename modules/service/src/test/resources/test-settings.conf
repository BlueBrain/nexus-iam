app {
  description {
    name = "iam"
    environment = "local"
  }

  instance {
    interface = 127.0.0.1
  }

  http {
    interface = ${app.instance.interface}
    port = 8080
    prefix = "v0"
    # The service public uri
    public-uri = "http://localhost:8080"
  }

  runtime {
    default-timeout = 10 seconds
  }

  cluster {
    passivation-timeout = 5 seconds
    passivation-timeout = ${?PASSIVATION_TIMEOUT}
    shards = 100
  }

  persistence {
    journal-plugin = "cassandra-journal"
    snapshot-store-plugin = "cassandra-snapshot-store"
    query-journal-plugin = "cassandra-query-journal"
  }

  auth {
    admin-groups = ["nexus-admin-group"]
  }
  oidc {
    issuer = "http://localhost:8080/realm"
    realm = "realm"
    authorize-endpoint = "http://localhost:8080/oauth2/authorize"
    token-endpoint = "http://localhost:8080/token"
    userinfo-endpoint = "http://localhost:8080/userinfo"
  }

  kafka {
    permissions-topic = "permissions-topic"
    permissions-projection-id = "permissions-persistence-id"
  }
}